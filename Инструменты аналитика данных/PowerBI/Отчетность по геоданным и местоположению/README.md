# Отчетность по геоданным и местоположению

## Оглавление

[1.Описание задачи](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8)

[2.Какой кейс решаем?](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9-%D0%BA%D0%B5%D0%B9%D1%81-%D1%80%D0%B5%D1%88%D0%B0%D0%B5%D0%BC)

[3.Краткая информация о данных](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D0%BA%D1%80%D0%B0%D1%82%D0%BA%D0%B0%D1%8F-%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F-%D0%BE-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85)

[4.Этапы работы над проектом](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D1%8D%D1%82%D0%B0%D0%BF%D1%8B-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D0%BD%D0%B0%D0%B4-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BE%D0%BC) 

[5.Выводы](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D1%8B)


### Описание задачи

- Написать собственный коннектор к API Портала открытых данных Москвы.  
- Выгрузить оттуда данные и проанализировать их с помощью карт.  
- Добавить в отчёт усовершенствованные элементы навигации с помощью DAX, а также с помощью страниц детализации и подсказок.  
- Настроить расчётные формулы с помощью ползунков.  
- Дать рекомендации бизнесу по размещению рекламы на билбордах.  


### Какой кейс решаем?

Директор по маркетингу одной московской компании, в которой вы работаете, хочет продвигать бренд компании среди родителей детей дошкольного возраста. После недолгих размышлений он решил, что с этой задачей лучше всего справятся билборды, установленные рядом со школами.  

 Потом он подумал ещё немного и понял, что не стоит ограничиваться школами. В Москве есть огромное количество мест с большим скоплением школьников, куда их, скорее всего, привозят родители.

Он решил спросить у вас, сможете ли вы справиться с такими задачами:

- Сделать стратегическую карту, на которой указаны места с наибольшим скоплением детей, а также расположение текущих билбордов в Москве.
- Вывести рейтинг каждой точки с возможностью ручной настройки показателей, влияющих на него.
- Настроить в отчёте возможность детализации (должно быть применимо для района и округа).
- Также сделать всплывающие окна с краткой информацией по району и округу.
- Настроить переключение между данными без загромождения отчета.

*Метрики для расчёта*

Какие показатели нам необходимо посчитать:  

- Рейтинг =
VAR billboards = [Количество билбордов] * [Значение Билборды]/100
VAR placements =
([Количество кружков] * [Значение Кружки]/100 +
[Количество технопарков] * [Значение Технопарки]/100 +
[Количество площадок] * [Значение Площадки]/100)
RETURN
placements * billboards

*Что практикуем*
- создаем собственный коннектор для связи с API портала открытых данных Москвы;  
- собираем данные по ссылке из Google Таблиц и с веб-страниц; 
- анализируем данные с помощью карт; 
- добавляем новые специальные столбцы, объединять и разделять их;  
- используем функции форматирования чисел и даты;  
- используем круговые диаграммы, диаграммы дерева, многострочные карточки, матрицы;  
- меняем размеры отчёта и настраивать адаптивность;  
- загружаем отчёт на сервер и настраиваем доступ к нему и настраиваем периодические обновления.  

### Краткая информация о данных

Начальные и преобразованные данные находятся по ссылке https://app.powerbi.com/groups/70662ac0-a622-48b3-8c0d-e138647d0822/list  

Для доступа необходим аккаунт в Power BI Service  

Готовый дашборд с данными:  **Кейс4_Новиков_Павел.pbix**

*Что практикуем* 
- подключение к базам данных; 
- создаем  
- одна из самых важных функций в аналитике данных — объединение данных, запросов и таблиц;  
- настраиваем связи между таблицами в DAX 
- Пишем запросы на языке М
- новые визуальные элементы (пузырьковые диаграммы, KPI, воронка);  
- синхронизация фильтров отчётов, переключение меры и показателей;  
- загрузка отчета в Power BI Service и установка шлюза.  

### Этапы работы над проектом  

1. Написали собственный коннектор к API Портала открытых данных Москвы на языке M в Power Query.  
2. Загружаем данные из различных источников.    
3. Готовим данные в Power BI Query.   
4. Визуализируем полученные данные на карте.  
5. Делаем настраиваемую формулу для расчёта рейтинга.
6. Создадим вспомогательные листы, которые помогут в принятии решений по необходимости.
7. Сделаем более динамичную навигацию в отчёте, что сэкономит место и избавит от повторяющихся дублей визуальных элементов в отчёте.   
8. Приводим основные выводы.    
9. Загружаем отчёт в Power BI Service.    


### Выводы

Исходя из рейтинга перспективными районами для размещения могут оказаться районы:

- Ясенево
- Тверской район
- Хорошёво-Мнёмники
- Ивановское  
Эти районы достаточно хорошо оснащены рекламными щитами, а также большим количеством игровых площадок. Как вы видите, мы не включили в рекомендации Пресненский и Таганский районы: несмотря на то, что они имеют более высокий рейтинг, в них довольно мало детских площадок (< 10).

:arrow_up: [к оглавлению](https://github.com/PavelNovikov888/practical_work/tree/master/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B%20%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85/PowerBI/%D0%9E%D1%82%D1%87%D0%B5%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BF%D0%BE%20%D0%B3%D0%B5%D0%BE%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%20%D0%B8%20%D0%BC%D0%B5%D1%81%D1%82%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E#%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5)
